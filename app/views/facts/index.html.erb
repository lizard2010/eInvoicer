<p id="notice"><%= notice %></p>

<h1>Listing Facts</h1>
    <div ng-controller="TableController">
        <p><strong>Page:</strong> {{tableParams.page()}}</p>
        <p><strong>Count per page:</strong> {{tableParams.count()}}</p>

        <table ng-table="tableParams" class="table">
        <tr ng-repeat="task in tasks">
            <td data-title="'Activity'">{{ task.activity.name }}<br> {{task.description}}</td>
            <td data-title="'Period'">{{ task.start_time }}<br> {{ task.end_time }}</td>
          <!--            <td data-title="'Name'">{{user.name}}</td>
                      <td data-title="'Age'">{{user.age}}</td> -->
        </tr>
        </table>
    </div>



<table class="table table-responsive">
  <thead>
    <tr>
      <th>Activity</th>
      <th>time</th>
      <th>Duration</th>
      <th>Description</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @facts.each do |fact| %>
      <tr>
        <td><%= fact.activity.name %><br><%= fact.description %></td>
        <td><%= fact.start_time %><br><%= fact.end_time %></td>
        <td><%= ((fact.end_time - fact.start_time)/60).to_i %></td>
        <td><%= fact.tags.map{|n| n.name}.join(",") %></td>
        <td><%= link_to 'Show', fact %></td>
        <td><%= link_to 'Edit', edit_fact_path(fact) %></td>
        <td><%= link_to 'Destroy', fact, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Fact', new_fact_path %>
